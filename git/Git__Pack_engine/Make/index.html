<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Make (git.Git__Pack_engine.Make)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">git</a> &#x00BB; <a href="../index.html">Git__Pack_engine</a> &#x00BB; Make</nav><h1>Module <code>Git__Pack_engine.Make</code></h1></header><h3 class="heading">Parameters</h3><ul><li><code><a href="argument-1-Hash/index.html">Hash</a> : <a href="../../Git__/S/index.html#module-type-HASH">Git__.S.HASH</a></code></li><li><code><a href="argument-2-FS/index.html">FS</a> : <a href="../../Git__/S/index.html#module-type-FS">Git__.S.FS</a></code></li><li><code><a href="argument-3-Inflate/index.html">Inflate</a> : <a href="../../Git__/S/index.html#module-type-INFLATE">Git__.S.INFLATE</a></code></li><li><code><a href="argument-4-Deflate/index.html">Deflate</a> : <a href="../../Git__/S/index.html#module-type-DEFLATE">Git__.S.DEFLATE</a></code></li><li><code><a href="argument-5-HDec/index.html">HDec</a> : <a href="../../Git/Unpack/index.html#module-type-H">Git.Unpack.H</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="argument-5-HDec/Hash/index.html">Hash</a> := <a href="index.html#argument-1-Hash">Hash</a></code></li><li><code><a href="argument-6-PDec/index.html">PDec</a> : <a href="../../Git/Unpack/index.html#module-type-P">Git.Unpack.P</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="argument-6-PDec/Hash/index.html">Hash</a> := <a href="index.html#argument-1-Hash">Hash</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="argument-6-PDec/Inflate/index.html">Inflate</a> := <a href="index.html#argument-3-Inflate">Inflate</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="argument-6-PDec/Hunk/index.html">Hunk</a> := <a href="index.html#argument-5-HDec">HDec</a></code></li><li><code><a href="argument-7-RPDec/index.html">RPDec</a> : <a href="../../Git/Unpack/index.html#module-type-D">Git.Unpack.D</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="argument-7-RPDec/Hash/index.html">Hash</a> := <a href="index.html#argument-1-Hash">Hash</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="argument-7-RPDec/Inflate/index.html">Inflate</a> := <a href="index.html#argument-3-Inflate">Inflate</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="argument-7-RPDec/Hunk/index.html">Hunk</a> := <a href="index.html#argument-5-HDec">HDec</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="argument-7-RPDec/Pack/index.html">Pack</a> := <a href="index.html#argument-6-PDec">PDec</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="argument-7-RPDec/Mapper/index.html">Mapper</a> := <a href="argument-2-FS/index.html#module-Mapper">FS.Mapper</a></code></li></ul><h3 class="heading">Signature</h3><div class="spec module" id="module-Hash"><a href="#module-Hash" class="anchor"></a><code><span class="keyword">module</span> <a href="Hash/index.html">Hash</a> : <a href="../../Git__/S/index.html#module-type-HASH">Git__.S.HASH</a></code></div><div class="spec module" id="module-Inflate"><a href="#module-Inflate" class="anchor"></a><code><span class="keyword">module</span> <a href="Inflate/index.html">Inflate</a> : <a href="../../Git__/S/index.html#module-type-INFLATE">Git__.S.INFLATE</a></code></div><div class="spec module" id="module-Deflate"><a href="#module-Deflate" class="anchor"></a><code><span class="keyword">module</span> <a href="Deflate/index.html">Deflate</a> : <a href="../../Git__/S/index.html#module-type-DEFLATE">Git__.S.DEFLATE</a></code></div><div class="spec module" id="module-FS"><a href="#module-FS" class="anchor"></a><code><span class="keyword">module</span> <a href="FS/index.html">FS</a> : <a href="../../Git__/S/index.html#module-type-FS">Git__.S.FS</a></code></div><div class="spec module" id="module-HDec"><a href="#module-HDec" class="anchor"></a><code><span class="keyword">module</span> <a href="HDec/index.html">HDec</a> : <a href="../../Git/Unpack/index.html#module-type-H">Git.Unpack.H</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="../../Git/Unpack/module-type-H/Hash/index.html">Hash</a> := <a href="index.html#module-Hash">Hash</a></code></div><div class="spec module" id="module-PDec"><a href="#module-PDec" class="anchor"></a><code><span class="keyword">module</span> <a href="PDec/index.html">PDec</a> : <a href="../../Git/Unpack/index.html#module-type-P">Git.Unpack.P</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="../../Git/Unpack/module-type-P/Hash/index.html">Hash</a> := <a href="index.html#module-Hash">Hash</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Git/Unpack/module-type-P/Inflate/index.html">Inflate</a> := <a href="index.html#module-Inflate">Inflate</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Git/Unpack/module-type-P/Hunk/index.html">Hunk</a> := <a href="index.html#module-HDec">HDec</a></code></div><div class="spec module" id="module-RPDec"><a href="#module-RPDec" class="anchor"></a><code><span class="keyword">module</span> <a href="RPDec/index.html">RPDec</a> : <a href="../../Git/Unpack/index.html#module-type-D">Git.Unpack.D</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="../../Git/Unpack/module-type-D/Hash/index.html">Hash</a> := <a href="index.html#module-Hash">Hash</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Git/Unpack/module-type-D/Inflate/index.html">Inflate</a> := <a href="index.html#module-Inflate">Inflate</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Git/Unpack/module-type-D/Hunk/index.html">Hunk</a> := <a href="index.html#module-HDec">HDec</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Git/Unpack/module-type-D/Pack/index.html">Pack</a> := <a href="index.html#module-PDec">PDec</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Git/Unpack/module-type-D/Mapper/index.html">Mapper</a> := <a href="FS/index.html#module-Mapper">FS.Mapper</a></code></div><div class="spec module" id="module-PEnc"><a href="#module-PEnc" class="anchor"></a><code><span class="keyword">module</span> <a href="PEnc/index.html">PEnc</a> : <a href="../../Git/Pack/index.html#module-type-P">Git.Pack.P</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="../../Git/Pack/module-type-P/Hash/index.html">Hash</a> := <a href="index.html#module-Hash">Hash</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Git/Pack/module-type-P/Deflate/index.html">Deflate</a> := <a href="index.html#module-Deflate">Deflate</a></code></div><div class="spec module" id="module-IDec"><a href="#module-IDec" class="anchor"></a><code><span class="keyword">module</span> <a href="IDec/index.html">IDec</a> : <a href="../../Git/Index_pack/index.html#module-type-LAZY">Git.Index_pack.LAZY</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="../../Git/Index_pack/module-type-LAZY/Hash/index.html">Hash</a> := <a href="index.html#module-Hash">Hash</a></code></div><div class="spec module" id="module-IEnc"><a href="#module-IEnc" class="anchor"></a><code><span class="keyword">module</span> <a href="IEnc/index.html">IEnc</a> : <a href="../../Git/Index_pack/index.html#module-type-ENCODER">Git.Index_pack.ENCODER</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="../../Git/Index_pack/module-type-ENCODER/Hash/index.html">Hash</a> := <a href="index.html#module-Hash">Hash</a></code></div><div class="spec module" id="module-PInfo"><a href="#module-PInfo" class="anchor"></a><code><span class="keyword">module</span> <a href="PInfo/index.html">PInfo</a> : <a href="../../Git/Pack_info/index.html#module-type-S">Git.Pack_info.S</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="../../Git/Pack_info/module-type-S/Hash/index.html">Hash</a> := <a href="index.html#module-Hash">Hash</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Git/Pack_info/module-type-S/Inflate/index.html">Inflate</a> := <a href="index.html#module-Inflate">Inflate</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Git/Pack_info/module-type-S/HDec/index.html">HDec</a> := <a href="index.html#module-HDec">HDec</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Git/Pack_info/module-type-S/PDec/index.html">PDec</a> := <a href="index.html#module-PDec">PDec</a></code></div><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dt class="spec type" id="type-r"><a href="#type-r" class="anchor"></a><code><span class="keyword">type</span> <span>('mmu, 'location) r</span></code><code> = </code><code>{</code><table class="record"><tr id="type-r.mmu" class="anchored"><td class="def field"><a href="#type-r.mmu" class="anchor"></a><code>mmu : <span class="type-var">'mmu</span>;</code></td></tr><tr id="type-r.with_cstruct" class="anchored"><td class="def field"><a href="#type-r.with_cstruct" class="anchor"></a><code>with_cstruct : <span class="type-var">'mmu</span> <span>&#45;&gt;</span> <a href="index.html#type-pack">pack</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>(<span>(<span class="type-var">'location</span> * Cstruct.t)</span> <span>&#45;&gt;</span> <span>unit Lwt.t</span>)</span> <span>&#45;&gt;</span> <span>unit Lwt.t</span>;</code></td></tr><tr id="type-r.free" class="anchored"><td class="def field"><a href="#type-r.free" class="anchor"></a><code>free : <span class="type-var">'mmu</span> <span>&#45;&gt;</span> <span class="type-var">'location</span> <span>&#45;&gt;</span> <span>unit Lwt.t</span>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-pack"><a href="#type-pack" class="anchor"></a><code><span class="keyword">and</span> pack</code><code> = </code><table class="variant"><tr id="type-pack.Pack" class="anchored"><td class="def constructor"><a href="#type-pack.Pack" class="anchor"></a><code>| </code><code><span class="constructor">Pack</span> <span class="keyword">of</span> <a href="index.html#module-Hash">Hash</a>.t</code></td></tr><tr id="type-pack.Unrecorded" class="anchored"><td class="def constructor"><a href="#type-pack.Unrecorded" class="anchor"></a><code>| </code><code><span class="constructor">Unrecorded</span></code></td></tr></table></dt><dt class="spec type" id="type-error"><a href="#type-error" class="anchor"></a><code><span class="keyword">type</span> error</code> = <code>[ </code><table class="variant"><tr id="type-error.Pack_decoder" class="anchored"><td class="def constructor"><a href="#type-error.Pack_decoder" class="anchor"></a><code>| </code><code>`Pack_decoder <span class="keyword">of</span> <a href="RPDec/index.html#type-error">RPDec.error</a></code></td></tr><tr id="type-error.Pack_encoder" class="anchored"><td class="def constructor"><a href="#type-error.Pack_encoder" class="anchor"></a><code>| </code><code>`Pack_encoder <span class="keyword">of</span> <a href="PEnc/index.html#type-error">PEnc.error</a></code></td></tr><tr id="type-error.Pack_info" class="anchored"><td class="def constructor"><a href="#type-error.Pack_info" class="anchor"></a><code>| </code><code>`Pack_info <span class="keyword">of</span> <a href="PInfo/index.html#type-error">PInfo.error</a></code></td></tr><tr id="type-error.Idx_decoder" class="anchored"><td class="def constructor"><a href="#type-error.Idx_decoder" class="anchor"></a><code>| </code><code>`Idx_decoder <span class="keyword">of</span> <a href="IDec/index.html#type-error">IDec.error</a></code></td></tr><tr id="type-error.Idx_encoder" class="anchored"><td class="def constructor"><a href="#type-error.Idx_encoder" class="anchor"></a><code>| </code><code>`Idx_encoder <span class="keyword">of</span> <a href="IEnc/index.html#type-error">IEnc.error</a></code></td></tr><tr id="type-error.Git.Error.FS.t" class="anchored"><td class="def type"><a href="#type-error.Git.Error.FS.t" class="anchor"></a><code>| </code><code><span><a href="FS/index.html#type-error">FS.error</a> <a href="../../Git/Error/FS/index.html#type-t">Git.Error.FS.t</a></span></code></td></tr><tr id="type-error.Git.Error.Inf.t" class="anchored"><td class="def type"><a href="#type-error.Git.Error.Inf.t" class="anchor"></a><code>| </code><code><span><a href="Inflate/index.html#type-error">Inflate.error</a> <a href="../../Git/Error/Inf/index.html#type-t">Git.Error.Inf.t</a></span></code></td></tr><tr id="type-error.Git.Error.Decoder.t" class="anchored"><td class="def type"><a href="#type-error.Git.Error.Decoder.t" class="anchor"></a><code>| </code><code><a href="../../Git/Error/Decoder/index.html#type-t">Git.Error.Decoder.t</a></code></td></tr><tr id="type-error.Invalid_hash" class="anchored"><td class="def constructor"><a href="#type-error.Invalid_hash" class="anchor"></a><code>| </code><code>`Invalid_hash <span class="keyword">of</span> <a href="index.html#module-Hash">Hash</a>.t</code></td></tr><tr id="type-error.Delta" class="anchored"><td class="def constructor"><a href="#type-error.Delta" class="anchor"></a><code>| </code><code>`Delta <span class="keyword">of</span> <a href="PEnc/Delta/index.html#type-error">PEnc.Delta.error</a></code></td></tr><tr id="type-error.Not_found" class="anchored"><td class="def constructor"><a href="#type-error.Not_found" class="anchor"></a><code>| </code><code>`Not_found</code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec value" id="val-pp_error"><a href="#val-pp_error" class="anchor"></a><code><span class="keyword">val</span> pp_error : <span><a href="index.html#type-error">error</a> Fmt.t</span></code></dt><dt class="spec value" id="val-v"><a href="#val-v" class="anchor"></a><code><span class="keyword">val</span> v : <a href="FS/index.html#type-t">FS.t</a> <span>&#45;&gt;</span> <span>Fpath.t list</span> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> Lwt.t</span></code></dt><dt class="spec value" id="val-lookup"><a href="#val-lookup" class="anchor"></a><code><span class="keyword">val</span> lookup : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#module-Hash">Hash</a>.t <span>&#45;&gt;</span> <span><span>(<a href="index.html#module-Hash">Hash</a>.t * <span>(Checkseum.Crc32.t * int64)</span>)</span> option</span></code></dt><dt class="spec value" id="val-list"><a href="#val-list" class="anchor"></a><code><span class="keyword">val</span> list : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#module-Hash">Hash</a>.t list</span></code></dt><dt class="spec value" id="val-mem"><a href="#val-mem" class="anchor"></a><code><span class="keyword">val</span> mem : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#module-Hash">Hash</a>.t <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-add"><a href="#val-add" class="anchor"></a><code><span class="keyword">val</span> add : <span>root:Fpath.t</span> <span>&#45;&gt;</span> <span>temp_dir:Fpath.t</span> <span>&#45;&gt;</span> <span>read_loose:<span>(<a href="index.html#module-Hash">Hash</a>.t <span>&#45;&gt;</span> <span><span><span>(<a href="RPDec/index.html#type-kind">RPDec.kind</a> * Cstruct.t)</span> option</span> Lwt.t</span>)</span></span> <span>&#45;&gt;</span> <span>ztmp:Cstruct.t</span> <span>&#45;&gt;</span> <span>window:<a href="Inflate/index.html#type-window">Inflate.window</a></span> <span>&#45;&gt;</span> <a href="FS/index.html#type-t">FS.t</a> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'mmu</span>, <span class="type-var">'location</span>)</span> <a href="index.html#type-r">r</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Fpath.t <span>&#45;&gt;</span> <span><span>[ <span>`Normalized of <a href="PInfo/index.html#type-path">PInfo.path</a></span> ]</span> <a href="PInfo/index.html#type-t">PInfo.t</a></span> <span>&#45;&gt;</span> <span><span><span>(<a href="index.html#module-Hash">Hash</a>.t * int, <a href="index.html#type-error">error</a>)</span> Stdlib.result</span> Lwt.t</span></code></dt><dt class="spec value" id="val-read"><a href="#val-read" class="anchor"></a><code><span class="keyword">val</span> read : <span>root:Fpath.t</span> <span>&#45;&gt;</span> <span>temp_dir:Fpath.t</span> <span>&#45;&gt;</span> <span>read_loose:<span>(<a href="index.html#module-Hash">Hash</a>.t <span>&#45;&gt;</span> <span><span><span>(<a href="RPDec/index.html#type-kind">RPDec.kind</a> * Cstruct.t)</span> option</span> Lwt.t</span>)</span></span> <span>&#45;&gt;</span> <span>to_result:<span>(<span>(<a href="RPDec/index.html#type-kind">RPDec.kind</a> * Cstruct.t * int * <a href="RPDec/Ascendant/index.html#type-s">RPDec.Ascendant.s</a>)</span> <span>&#45;&gt;</span> <span><span><span>(<span class="type-var">'value</span>, <a href="index.html#type-error">error</a>)</span> Stdlib.result</span> Lwt.t</span>)</span></span> <span>&#45;&gt;</span> <span>ztmp:Cstruct.t</span> <span>&#45;&gt;</span> <span>window:<a href="Inflate/index.html#type-window">Inflate.window</a></span> <span>&#45;&gt;</span> <a href="FS/index.html#type-t">FS.t</a> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'mmu</span>, <span class="type-var">'location</span>)</span> <a href="index.html#type-r">r</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#module-Hash">Hash</a>.t <span>&#45;&gt;</span> <span><span><span>(<span class="type-var">'value</span>, <a href="index.html#type-error">error</a>)</span> Stdlib.result</span> Lwt.t</span></code></dt><dt class="spec value" id="val-size"><a href="#val-size" class="anchor"></a><code><span class="keyword">val</span> size : <span>root:Fpath.t</span> <span>&#45;&gt;</span> <span>read_loose:<span>(<a href="index.html#module-Hash">Hash</a>.t <span>&#45;&gt;</span> <span><span><span>(<a href="RPDec/index.html#type-kind">RPDec.kind</a> * Cstruct.t)</span> option</span> Lwt.t</span>)</span></span> <span>&#45;&gt;</span> <span>ztmp:Cstruct.t</span> <span>&#45;&gt;</span> <span>window:<a href="Inflate/index.html#type-window">Inflate.window</a></span> <span>&#45;&gt;</span> <a href="FS/index.html#type-t">FS.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#module-Hash">Hash</a>.t <span>&#45;&gt;</span> <span><span><span>(int, <a href="index.html#type-error">error</a>)</span> Stdlib.result</span> Lwt.t</span></code></dt></dl></div></body></html>