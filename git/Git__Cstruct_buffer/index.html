<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Git__Cstruct_buffer (git.Git__Cstruct_buffer)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">git</a> &#x00BB; Git__Cstruct_buffer</nav><h1>Module <code>Git__Cstruct_buffer</code></h1><p>An implementation of the <code>Buffer</code> module but with <span class="xref-unresolved" title="unresolved reference to &quot;Cstruct.t&quot;"><code>Cstruct</code>.t</span>.</p></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>The abstract type of buffers.</p></dd></dl><dl><dt class="spec type" id="type-raw"><a href="#type-raw" class="anchor"></a><code><span class="keyword">type</span> raw</code><code> = string</code></dt><dd><p>The type of result.</p></dd></dl><dl><dt class="spec type" id="type-fixe"><a href="#type-fixe" class="anchor"></a><code><span class="keyword">type</span> fixe</code><code> = Cstruct.t</code></dt><dd><p>The type of input.</p></dd></dl><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>create n</code> returns a fresh buffer, initially empty. The <code>n</code> parameter is the initial size of the internal byte sequence that holds the buffer contents. That byte sequence is automatically reallocated when more than <code>n</code> bytes are stored in the buffer, but shrinks back to <code>n</code> bytes when <code>reset</code> is called.</p><p>For best performance, <code>n</code> should be of the same order of magnitude as the number of characters that are expected to be stored in the buffer. Nothing bad will happen if the buffer grows beyond that limit, however.</p></dd></dl><dl><dt class="spec value" id="val-contents"><a href="#val-contents" class="anchor"></a><code><span class="keyword">val</span> contents : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-raw">raw</a></code></dt><dd><p>Return a copy of the current contents of the buffer. The buffer itself is unchanged.</p></dd></dl><dl><dt class="spec value" id="val-unsafe_contents"><a href="#val-unsafe_contents" class="anchor"></a><code><span class="keyword">val</span> unsafe_contents : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-fixe">fixe</a></code></dt><dt class="spec value" id="val-has"><a href="#val-has" class="anchor"></a><code><span class="keyword">val</span> has : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-add"><a href="#val-add" class="anchor"></a><code><span class="keyword">val</span> add : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-fixe">fixe</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>add fixe buffer</code> appends the fixed-size buffer <code>fixe</code> at the end of the buffer <code>buffer</code>.</p></dd></dl><dl><dt class="spec value" id="val-clear"><a href="#val-clear" class="anchor"></a><code><span class="keyword">val</span> clear : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Empty the buffer.</p></dd></dl><dl><dt class="spec value" id="val-reset"><a href="#val-reset" class="anchor"></a><code><span class="keyword">val</span> reset : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Empty the buffer and <i>de-allocate</i> the internal byte sequence internal byte sequence of length <code>n</code> that was allocated by <span class="xref-unresolved" title="unresolved reference to &quot;Buffer.create&quot;"><code>Buffer</code>.create</span> <code>n</code>. For long-lived buffers that may have grown a lot, <code>reset</code> allows faster reclamation of the space used by the buffer.</p></dd></dl></div></body></html>